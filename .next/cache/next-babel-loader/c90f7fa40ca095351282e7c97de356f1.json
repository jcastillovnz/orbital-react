{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jose Castillo\\\\Desktop\\\\template\\\\orbital-react\\\\pages\\\\components\\\\View360.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\"; // You can play with this to adjust the sensitivity\n// higher values make mouse less sensitive\n\nconst pixelsPerDegree = 3;\n\nconst App = props => {\n  const {\n    dir,\n    numImages\n  } = props;\n  const {\n    0: imageIndex,\n    1: changeImageIndex\n  } = useState(0);\n  const {\n    0: dragging,\n    1: changeDragging\n  } = useState(false);\n  const {\n    0: dragStartIndex,\n    1: changeDragStartIndex\n  } = useState(0);\n  const {\n    0: dragStart,\n    1: changeDragStart\n  } = useState(0);\n  /*   const state = {\r\n      dragging: false,\r\n      imageIndex: 0,\r\n      dragStartIndex: 0\r\n    }; */\n\n  const handleMouseMove = e => {\n    if (dragging) {\n      updateImageIndex(e.screenX);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousemove\", handleMouseMove, false);\n    document.addEventListener(\"mouseup\", handleMouseUp, false);\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove, false);\n      document.removeEventListener(\"mouseup\", handleMouseUp, false);\n    };\n  }, []);\n\n  const handleMouseDown = e => {\n    e.persist();\n    changeDragging(true);\n    changeDragStart(e.screenX);\n    changeDragStartIndex(imageIndex);\n    /*     this.setState(state => ({\r\n          dragging: true,\r\n          dragStart: e.screenX,\r\n          dragStartIndex: state.imageIndex\r\n        })); */\n  };\n\n  const handleMouseUp = () => {\n    //this.setState({ dragging: false });\n    changeDragging(false);\n  };\n\n  const updateImageIndex = currentPosition => {\n    const pixelsPerImage = pixelsPerDegree * (360 / numImages); // pixels moved\n\n    let dx = (currentPosition - dragStart) / pixelsPerImage;\n    let index = Math.floor(dx) % numImages;\n\n    if (index < 0) {\n      index = numImages + index - 1;\n    }\n\n    index = (index + dragStartIndex) % numImages; // console.log(index, dragStartIndex, numImages)\n\n    if (index !== imageIndex) {\n      //this.setState({ imageIndex: index });\n      changeImageIndex(index);\n    }\n  };\n\n  const preventDragHandler = e => {\n    e.preventDefault();\n  };\n\n  const renderImage = () => {\n    return __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        width: '100%',\n        margin: '0 auto',\n        display: 'flex',\n        'justify-content': 'center',\n        'align-items': 'center'\n      },\n      className: \"react360\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, __jsx(\"img\", {\n      style: {\n        margin: 'auto',\n        position: 'relative',\n        height: '80vh',\n        width: '100vw',\n        display: 'flex',\n        'justify-content': 'center',\n        'align-items': 'center',\n        'background-color': 'white',\n        '-webkit-user-select': 'none',\n        '-khtml-user-select': 'none',\n        '-moz-user-select': 'none',\n        '-ms-user-select': 'none',\n        '-o-user-select': 'none',\n        'user-select': 'none'\n      },\n      className: \"react-360-img\",\n      src: `${dir}/${imageIndex}.jpg`\n      /*  src={require(`${dir}/${imageIndex}.jpg`)} */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  return __jsx(\"div\", {\n    className: \"react-360-img\",\n    onMouseDown: handleMouseDown,\n    onDragStart: preventDragHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, renderImage());\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Jose Castillo/Desktop/template/orbital-react/pages/components/View360.tsx"],"names":["React","useState","useEffect","pixelsPerDegree","App","props","dir","numImages","imageIndex","changeImageIndex","dragging","changeDragging","dragStartIndex","changeDragStartIndex","dragStart","changeDragStart","handleMouseMove","e","updateImageIndex","screenX","document","addEventListener","handleMouseUp","removeEventListener","handleMouseDown","persist","currentPosition","pixelsPerImage","dx","index","Math","floor","preventDragHandler","preventDefault","renderImage","position","width","margin","display","height"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from \"react\";\r\n\r\n\r\n// You can play with this to adjust the sensitivity\r\n// higher values make mouse less sensitive\r\nconst pixelsPerDegree = 3;\r\n\r\ninterface props {\r\n  dir: string\r\n  numImages?: number\r\n}\r\n\r\n\r\nconst App =(props: props)=> {\r\nconst {dir, numImages} = props;\r\n\r\nconst [imageIndex, changeImageIndex] = useState(0);\r\nconst [dragging, changeDragging] = useState(false);\r\nconst [dragStartIndex, changeDragStartIndex] = useState(0);\r\nconst [dragStart, changeDragStart] = useState(0);\r\n\r\n/*   const state = {\r\n    dragging: false,\r\n    imageIndex: 0,\r\n    dragStartIndex: 0\r\n  }; */\r\n\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (dragging) {\r\n      updateImageIndex(e.screenX);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n\r\n    document.addEventListener(\"mousemove\", handleMouseMove, false);\r\n    document.addEventListener(\"mouseup\", handleMouseUp, false);\r\n\r\n    return () => {\r\n    document.removeEventListener(\"mousemove\", handleMouseMove, false);\r\n    document.removeEventListener(\"mouseup\", handleMouseUp, false);\r\n    }\r\n  }, []); \r\n\r\n  const handleMouseDown = (e) => {\r\n    e.persist();\r\n    changeDragging(true)\r\n    changeDragStart(e.screenX)\r\n    changeDragStartIndex(imageIndex)\r\n/*     this.setState(state => ({\r\n      dragging: true,\r\n      dragStart: e.screenX,\r\n      dragStartIndex: state.imageIndex\r\n    })); */\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    //this.setState({ dragging: false });\r\n    changeDragging(false);\r\n  };\r\n\r\n  const updateImageIndex = (currentPosition) => {\r\n    const pixelsPerImage = pixelsPerDegree * (360 / numImages);\r\n    // pixels moved\r\n    let dx = (currentPosition - dragStart) / pixelsPerImage;\r\n    let index = Math.floor(dx) % numImages;\r\n\r\n    if (index < 0) {\r\n      index = numImages + index - 1;\r\n    }\r\n    index = (index + dragStartIndex) % numImages;\r\n    // console.log(index, dragStartIndex, numImages)\r\n    if (index !== imageIndex) {\r\n      //this.setState({ imageIndex: index });\r\n      changeImageIndex(index)\r\n    }\r\n  };\r\n\r\n  const preventDragHandler = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const renderImage = () => {\r\n    \r\n\r\n    return (\r\n\r\n\r\n      <div style={{position:'absolute', width: '100%', margin: '0 auto',\r\n       display: 'flex',\r\n      'justify-content': 'center',\r\n      'align-items': 'center'} as React.CSSProperties} className=\"react360\">\r\n      <img  style={{ \r\n      margin:'auto',\r\n       position:'relative',\r\n       height: '80vh',\r\n       width:'100vw',\r\n       display:'flex',\r\n       'justify-content': 'center',\r\n       'align-items': 'center',\r\n       'background-color': 'white',\r\n       '-webkit-user-select': 'none',\r\n       '-khtml-user-select': 'none',\r\n       '-moz-user-select': 'none',\r\n       '-ms-user-select': 'none',\r\n       '-o-user-select':'none',\r\n       'user-select': 'none',\r\n         } as React.CSSProperties}\r\n          className=\"react-360-img\"\r\n          src={`${dir}/${imageIndex}.jpg`}\r\n         /*  src={require(`${dir}/${imageIndex}.jpg`)} */\r\n        />\r\n\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n    return (\r\n      <div\r\n        className=\"react-360-img\"\r\n        onMouseDown={handleMouseDown}\r\n        onDragStart={preventDragHandler}\r\n      >\r\n        {renderImage()}\r\n      </div>\r\n    );\r\n\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}